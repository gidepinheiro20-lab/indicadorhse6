<!doctype html>
<html lang="pt-BR">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Indicador de HSE</title>
		<style>
			:root{
			--sidebar-width:340px;
				--bg:#ffffff;
				--muted:#7a869a;
				--accent:#2b6cb0;
				--border:#e6edf3;
			}

			*{box-sizing:border-box}
			body{margin:0;font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial; background:var(--bg); color:#12263f}

			/* Layout */
			.app{
				display:flex;
				min-height:100vh;
			}

			/* Sidebar */
			.sidebar{
				width:var(--sidebar-width);
				border-right:1px solid var(--border);
				padding:28px 18px;
				background:linear-gradient(180deg,#fbfdff 0%, #f6fbff 100%);
				position:sticky;
				top:0;
				align-self:flex-start;
			}

			.brand{
				display:flex;gap:12px;align-items:center;margin-bottom:28px
			}

			.brand .logo{
				width:44px;height:44px;background:var(--accent);border-radius:8px;display:inline-grid;place-items:center;color:#fff;font-weight:700
			}

			.brand .title{font-weight:700}
			.brand .subtitle{display:block;color:var(--muted);font-size:12px;margin-top:2px}

			.section-title{font-size:12px;color:var(--muted);margin:18px 0 8px}

			.nav{list-style:none;padding:0;margin:0}
			.nav li{margin:6px 0}
			.nav a{
				display:flex;align-items:center;gap:12px;padding:10px;border-radius:8px;color:#102a43;text-decoration:none;font-size:15px
			}
			.nav a .icon{width:18px;height:18px;display:inline-block;flex:0 0 18px;color:var(--muted)}

			.nav a:hover{background:#f0f6fb}

			/* content placeholder */
			.main{
				flex:1;padding:28px
			}

			/* responsive: mobile-friendly layout */
			@media (max-width:720px){
				.app{
					flex-direction:column;
				}
				.sidebar{
					width:100%;
					position:relative;
					padding:16px;
					border-right:none;
					border-bottom:1px solid var(--border);
					transition: all 0.3s ease;
				}
				.sidebar.hidden-mobile{
					display:none;
				}
				.brand{
					margin-bottom:16px;
				}
				.brand .logo{
					width:36px;
					height:36px;
					font-size:14px;
				}
				.brand .title{
					font-size:16px;
				}
				.brand .subtitle{
					font-size:11px;
				}
				.section-title{
					font-size:11px;
					margin:12px 0 6px;
				}
				.nav{
					display:flex;
					flex-wrap:wrap;
					gap:8px;
				}
				.nav li{
					margin:0;
					flex:1 1 auto;
					min-width:140px;
				}
				.nav a{
					padding:8px 12px;
					font-size:13px;
					justify-content:flex-start;
					background:#fff;
					border:1px solid var(--border);
					border-radius:6px;
					transition: all 0.2s ease;
				}
				.nav a .icon{
					width:16px;
					height:16px;
					flex:0 0 16px;
				}
				.nav a:hover{
					background:#f8fafc;
				}
				.main{
					padding:16px;
				}
				.main.full-screen-mobile{
					padding:0;
					position:relative;
				}
				.main.full-screen-mobile #nova-ras{
					max-width:100%;
					margin:0;
					padding:16px;
				}
				.main.full-screen-mobile #cadastro-usuario{
					max-width:100%;
					padding:16px;
				}
				/* Bot√£o para voltar ao menu principal no mobile */
				.back-to-menu{
					display:none;
					position:fixed;
					top:16px;
					left:16px;
					z-index:1000;
					background:var(--accent);
					color:#fff;
					border:none;
					border-radius:50%;
					width:48px;
					height:48px;
					font-size:18px;
					cursor:pointer;
					box-shadow:0 2px 8px rgba(0,0,0,0.15);
					transition: all 0.2s ease;
				}
				.back-to-menu:hover{
					transform:scale(1.05);
				}
				.back-to-menu.show{
					display:block;
				}
			}
			
			/* Para telas muito pequenas (menos de 480px) */
			@media (max-width:480px){
				.nav li{
					min-width:120px;
				}
				.nav a{
					font-size:12px;
					padding:6px 8px;
				}
			}
		</style>
	</head>
	<body>
		<div class="app" id="app-sistema">
			<aside class="sidebar" aria-label="Barra lateral">
				<div class="brand">
					<div class="logo">HSE</div>
					<div>
						<div class="title">Indicador de HSE</div>
						<div class="subtitle">Gest√£o de Ferramentas</div>
					</div>
				</div>
				<div class="section">
					<div class="section-title">PRINCIPAL</div>
					<ul class="nav">
						<li><a href="#dashboard"><span class="icon" aria-hidden="true">üìä</span><span class="label">Dashboard</span></a></li>
						<li><a href="#relatorios"><span class="icon" aria-hidden="true">üìÑ</span><span class="label">Relat√≥rios</span></a></li>
						<li><a href="#frequencia"><span class="icon" aria-hidden="true">üîé</span><span class="label">Frequ√™ncia</span></a></li>
						<li><a href="#funcionarios"><span class="icon" aria-hidden="true">üë•</span><span class="label">Funcion√°rios</span></a></li>
						<li><a href="#usuario"><span class="icon" aria-hidden="true">üë§</span><span class="label">Usu√°rio</span></a></li>
					</ul>
				</div>
				<div class="section">
					<div class="section-title">FERRAMENTAS</div>
					<ul class="nav">
						<li><a href="#ras"><span class="icon" aria-hidden="true">‚ûï</span><span class="label">RAS</span></a></li>
						<li><a href="#cpt"><span class="icon" aria-hidden="true">üë•</span><span class="label">CPT</span></a></li>
						<li><a href="#inspecao"><span class="icon" aria-hidden="true">üîç</span><span class="label">Inspe√ß√£o de HSE</span></a></li>
						<li><a href="#moc"><span class="icon" aria-hidden="true">üõ†Ô∏è</span><span class="label">WOC MDHO</span></a></li>
						<li><a href="#melhorias"><span class="icon" aria-hidden="true">‚ö°</span><span class="label">Melhorias</span></a></li>
						<li><a href="#reuniao"><span class="icon" aria-hidden="true">üìÖ</span><span class="label">Reuni√£o Mensal</span></a></li>
					</ul>
				</div>
			</aside>
			<main class="main">
				<button class="back-to-menu" id="back-to-menu" title="Voltar ao menu">‚Üê</button>
				<div id="conteudo-principal"></div>
				<div id="nova-ras" style="display:none;max-width:700px;margin:0 auto;">
					<!-- Etapa 1: Informa√ß√µes B√°sicas -->
					<div id="ras-etapa-1">
						<h2 style="margin-top:24px;font-size:1.6rem;font-weight:700;color:#222">Nova RAS</h2>
						<div style="color:#3197ab;font-size:1.1rem;margin-bottom:8px">Reuni√£o de An√°lise de Seguran√ßa ¬∑ Etapa 1 de 6</div>
						<div style="font-size:1.05rem;margin-bottom:18px;color:#888">Informa√ß√µes B√°sicas</div>
						<form id="form-ras" autocomplete="off" style="background:#fff;border-radius:12px;padding:24px 24px 16px 24px;box-shadow:0 2px 8px #0001;border:1px solid #e6edf3">
							<div style="text-align:center;margin-bottom:18px">
								<div style="font-size:1.3rem;font-weight:700;">Informa√ß√µes B√°sicas</div>
								<div style="color:#888;font-size:1rem;">Preencha os dados principais da reuni√£o</div>
							</div>
							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:4px">Empresa</label>
								<select id="ras-empresa" required style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb">
									<option value="">Selecione a empresa</option>
									<option>Empresa 1</option>
									<option>Empresa 2</option>
									<option>Empresa 3</option>
								</select>
							</div>
							<div style="display:flex;gap:12px;margin-bottom:18px;flex-wrap:wrap">
								<div style="flex:1 1 120px">
									<label style="font-weight:600;display:block;margin-bottom:4px">Data</label>
									<input type="date" id="ras-data" required style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb">
								</div>
								<div style="flex:1 1 100px">
									<label style="font-weight:600;display:block;margin-bottom:4px">In√≠cio</label>
									<input type="time" id="ras-inicio" required style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb">
								</div>
								<div style="flex:1 1 100px">
									<label style="font-weight:600;display:block;margin-bottom:4px">T√©rmino</label>
									<input type="time" id="ras-termino" required style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb">
								</div>
							</div>
							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:4px">Efetivo</label>
								<input type="number" id="ras-efetivo" min="0" required style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb">
							</div>
							<div style="margin-bottom:18px;border:1px solid #fbb4b4;background:#fff7f7;border-radius:8px;padding:12px">
								<label style="font-weight:600;display:block;margin-bottom:4px;color:#d32f2f">‚ö†Ô∏è Tarefa de Alto Risco</label>
								<textarea id="ras-alto-risco" required rows="2" style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb" placeholder="Descreva as tarefas de alto risco identificadas..."></textarea>
							</div>
							<div style="margin-bottom:18px;border:1px solid #fbb4b4;background:#fff7f7;border-radius:8px;padding:12px;display:flex;align-items:center;justify-content:space-between">
								<div>
									<label style="font-weight:600;display:block;margin-bottom:2px;color:#d32f2f">‚ö†Ô∏è TARD-C</label>
									<span style="color:#b77;font-size:0.98rem">Ative se houver Tarefa de Alto Risco Cr√≠tica</span>
								</div>
								<input type="checkbox" id="ras-tardc" style="width:22px;height:22px">
							</div>
							<div style="margin-bottom:18px;border:1px solid #b4e2fb;background:#f7fbff;border-radius:8px;padding:12px">
								<label style="font-weight:600;display:block;margin-bottom:4px;color:#3197ab">üí¨ Algo a ser Compartilhado</label>
								<textarea id="ras-compartilhar" required rows="2" style="width:100%;padding:8px 10px;font-size:1rem;border-radius:6px;border:1px solid #bbb" placeholder="Informa√ß√µes importantes para compartilhar com a equipe..."></textarea>
							</div>
							<div style="text-align:right">
								<button id="ras-proximo-1" type="button" disabled style="background:#3197ab;color:#fff;padding:10px 36px;font-size:1.1rem;border:none;border-radius:6px;opacity:0.5;cursor:not-allowed">Pr√≥ximo ‚Üí</button>
							</div>
						</form>
					</div>

					<!-- Etapa 2: Participa√ß√£o de Lideran√ßa -->
					<div id="ras-etapa-2" style="display:none;">
						<h2 style="margin-top:24px;font-size:1.6rem;font-weight:700;color:#222">Nova RAS</h2>
						<div style="color:#3197ab;font-size:1.1rem;margin-bottom:8px">Reuni√£o de An√°lise de Seguran√ßa ¬∑ Etapa 2 de 6</div>
						<div style="font-size:1.05rem;margin-bottom:18px;color:#888">Participa√ß√£o de Lideran√ßa</div>
						<form autocomplete="off" style="background:#fff;border-radius:12px;padding:24px 24px 16px 24px;box-shadow:0 2px 8px #0001;border:1px solid #e6edf3">
							<div style="text-align:center;margin-bottom:18px">
								<div style="font-size:1.3rem;font-weight:700;">Participa√ß√£o de Lideran√ßa</div>
								<div style="color:#888;font-size:1rem;">Registre os l√≠deres presentes na reuni√£o</div>
							</div>
							
							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üëî</span> Gerente
								</label>
								<select id="ras-gerente" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o gerente</option>
									<option value="Jo√£o Silva">Jo√£o Silva</option>
									<option value="Maria Santos">Maria Santos</option>
									<option value="Pedro Oliveira">Pedro Oliveira</option>
									<option value="Ana Costa">Ana Costa</option>
									<option value="Carlos Ferreira">Carlos Ferreira</option>
								</select>
							</div>

							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üë∑</span> Engenheiro
								</label>
								<select id="ras-engenheiro" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o engenheiro</option>
									<option value="Lucas Martins">Lucas Martins</option>
									<option value="Fernanda Lima">Fernanda Lima</option>
									<option value="Rafael Souza">Rafael Souza</option>
									<option value="Juliana Rocha">Juliana Rocha</option>
									<option value="Bruno Alves">Bruno Alves</option>
								</select>
							</div>

							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üîß</span> Supervisor / Mestre
								</label>
								<select id="ras-supervisor" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o supervisor / mestre</option>
									<option value="Roberto Silva">Roberto Silva</option>
									<option value="Cristina Mendes">Cristina Mendes</option>
									<option value="Eduardo Barbosa">Eduardo Barbosa</option>
									<option value="Patr√≠cia Gomes">Patr√≠cia Gomes</option>
									<option value="Marcos Ribeiro">Marcos Ribeiro</option>
								</select>
							</div>

							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üë®‚Äçüîß</span> Encarregado
								</label>
								<select id="ras-encarregado" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o encarregado</option>
									<option value="Jos√© Lima">Jos√© Lima</option>
									<option value="Sandra Nunes">Sandra Nunes</option>
									<option value="Ricardo Pereira">Ricardo Pereira</option>
									<option value="Vanessa Torres">Vanessa Torres</option>
									<option value="Ant√¥nio Campos">Ant√¥nio Campos</option>
								</select>
							</div>

							<div style="margin-bottom:24px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üõ°Ô∏è</span> T√©cnico de Seguran√ßa
								</label>
								<select id="ras-tecnico-seguranca" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o t√©cnico de seguran√ßa</option>
									<option value="Miguel Santos">Miguel Santos</option>
									<option value="Carla Vieira">Carla Vieira</option>
									<option value="Daniel Costa">Daniel Costa</option>
									<option value="Renata Silva">Renata Silva</option>
									<option value="Thiago Moreira">Thiago Moreira</option>
								</select>
							</div>

							<div style="display:flex;gap:12px;justify-content:space-between">
								<button id="ras-voltar-2" type="button" style="background:#6b7280;color:#fff;padding:10px 24px;font-size:1.1rem;border:none;border-radius:6px;cursor:pointer">‚Üê Voltar</button>
								<button id="ras-proximo-2" type="button" disabled style="background:#3197ab;color:#fff;padding:10px 36px;font-size:1.1rem;border:none;border-radius:6px;opacity:0.5;cursor:not-allowed">Pr√≥ximo ‚Üí</button>
							</div>
						</form>
					</div>

					<!-- Etapa 3: Outros Participantes -->
					<div id="ras-etapa-3" style="display:none;">
						<h2 style="margin-top:24px;font-size:1.6rem;font-weight:700;color:#222">Nova RAS</h2>
						<div style="color:#3197ab;font-size:1.1rem;margin-bottom:8px">Reuni√£o de An√°lise de Seguran√ßa ¬∑ Etapa 3 de 6</div>
						<div style="font-size:1.05rem;margin-bottom:18px;color:#888">Outros Participantes</div>
						<form autocomplete="off" style="background:#fff;border-radius:12px;padding:24px 24px 16px 24px;box-shadow:0 2px 8px #0001;border:1px solid #e6edf3">
							<div style="text-align:center;margin-bottom:18px">
								<div style="font-size:1.3rem;font-weight:700;">Outros Participantes</div>
								<div style="color:#888;font-size:1rem;">Complete com os demais envolvidos na reuni√£o</div>
							</div>
							
							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üíñ</span> Anjo da Semana
								</label>
								<select id="ras-anjo-semana" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o anjo da semana</option>
									<option value="Carlos Mendes">Carlos Mendes</option>
									<option value="Ana Paula">Ana Paula</option>
									<option value="Jo√£o Santos">Jo√£o Santos</option>
									<option value="Maria Silva">Maria Silva</option>
									<option value="Pedro Costa">Pedro Costa</option>
									<option value="Lucia Ferreira">Lucia Ferreira</option>
									<option value="Roberto Alves">Roberto Alves</option>
									<option value="Fernanda Lima">Fernanda Lima</option>
								</select>
							</div>

							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üéØ</span> L√≠der da RAS
								</label>
								<select id="ras-lider-ras" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o l√≠der da ras</option>
									<option value="Eduardo Santos">Eduardo Santos</option>
									<option value="Mariana Costa">Mariana Costa</option>
									<option value="Rafael Oliveira">Rafael Oliveira</option>
									<option value="Juliana Rocha">Juliana Rocha</option>
									<option value="Bruno Martins">Bruno Martins</option>
									<option value="Patricia Souza">Patricia Souza</option>
									<option value="Leonardo Silva">Leonardo Silva</option>
									<option value="Camila Pereira">Camila Pereira</option>
								</select>
							</div>

							<div style="margin-bottom:18px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üë•</span> L√≠der CPT
								</label>
								<select id="ras-lider-cpt" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o l√≠der cpt</option>
									<option value="Marcos Ribeiro">Marcos Ribeiro</option>
									<option value="Cristina Mendes">Cristina Mendes</option>
									<option value="Thiago Moreira">Thiago Moreira</option>
									<option value="Sandra Nunes">Sandra Nunes</option>
									<option value="Daniel Costa">Daniel Costa</option>
									<option value="Renata Silva">Renata Silva</option>
									<option value="Antonio Campos">Antonio Campos</option>
									<option value="Vanessa Torres">Vanessa Torres</option>
								</select>
							</div>

							<div style="margin-bottom:24px">
								<label style="font-weight:600;display:block;margin-bottom:8px;display:flex;align-items:center;gap:8px">
									<span style="font-size:1.2rem;">üöí</span> Brigada
								</label>
								<select id="ras-brigada" required style="width:100%;padding:12px;font-size:1rem;border-radius:6px;border:1px solid #bbb;background:#fff">
									<option value="">Selecione o brigada</option>
									<option value="Brigada Alpha">Brigada Alpha</option>
									<option value="Brigada Bravo">Brigada Bravo</option>
									<option value="Brigada Charlie">Brigada Charlie</option>
									<option value="Brigada Delta">Brigada Delta</option>
									<option value="Brigada Echo">Brigada Echo</option>
									<option value="Brigada Foxtrot">Brigada Foxtrot</option>
									<option value="Brigada Golf">Brigada Golf</option>
									<option value="Brigada Hotel">Brigada Hotel</option>
								</select>
							</div>

							<div style="display:flex;gap:12px;justify-content:space-between">
								<button id="ras-voltar-3" type="button" style="background:#6b7280;color:#fff;padding:10px 24px;font-size:1.1rem;border:none;border-radius:6px;cursor:pointer">‚Üê Voltar</button>
								<button id="ras-proximo-3" type="button" disabled style="background:#3197ab;color:#fff;padding:10px 36px;font-size:1.1rem;border:none;border-radius:6px;opacity:0.5;cursor:not-allowed">Pr√≥ximo ‚Üí</button>
							</div>
						</form>
					</div>

					<!-- Etapa 4: Anexos -->
					<div id="ras-etapa-4" style="display:none;">
						<h2 style="margin-top:24px;font-size:1.6rem;font-weight:700;color:#222">Nova RAS</h2>
						<div style="color:#3197ab;font-size:1.1rem;margin-bottom:8px">Reuni√£o de An√°lise de Seguran√ßa ¬∑ Etapa 4 de 6</div>
						<div style="font-size:1.05rem;margin-bottom:18px;color:#888">Anexos</div>
						<form autocomplete="off" style="background:#fff;border-radius:12px;padding:24px 24px 16px 24px;box-shadow:0 2px 8px #0001;border:1px solid #e6edf3">
							<div style="text-align:center;margin-bottom:24px">
								<div style="font-size:1.3rem;font-weight:700;">Anexos</div>
								<div style="color:#888;font-size:1rem;">Adicione fotos e evid√™ncias da reuni√£o</div>
								<div style="color:#e53e3e;font-size:0.9rem;margin-top:4px;font-weight:600;">Itens obrigat√≥rios</div>
							</div>
							
							<!-- Se√ß√£o 1: Carregar Foto da RAS -->
							<div style="margin-bottom:24px;padding:20px;border:1px solid #e5e7eb;border-radius:12px;background:#f8fafc;">
								<div style="margin-bottom:16px;">
									<div style="font-size:1.1rem;font-weight:600;color:#374151;margin-bottom:4px;display:flex;align-items:center;gap:8px;">
										<span style="font-size:1.3rem;">üì∑</span> Carregar Foto da RAS
									</div>
									<div style="color:#6b7280;font-size:0.9rem;">Adicione fotos da reuni√£o (JPG, PNG)</div>
								</div>
								
								<div style="border:2px dashed #bfdbfe;border-radius:8px;padding:30px 20px;text-align:center;background:#eff6ff;transition:all 0.3s ease;" id="upload-area-fotos">
									<div style="font-size:2.5rem;color:#60a5fa;margin-bottom:8px;">ÔøΩ</div>
									<div style="font-size:1rem;font-weight:600;color:#1e40af;margin-bottom:6px;">Carregar Fotos</div>
									<div style="color:#6b7280;font-size:0.9rem;margin-bottom:12px;">Selecione ou arraste fotos da RAS</div>
									
									<button type="button" id="select-fotos" style="background:#2563eb;color:#fff;padding:10px 20px;font-size:0.9rem;border:none;border-radius:6px;cursor:pointer;margin-bottom:6px;">Selecionar Fotos</button>
									<input type="file" id="file-input-fotos" multiple accept=".jpg,.jpeg,.png" style="display:none;">
									
									<div style="color:#6b7280;font-size:0.8rem;">Formatos: JPG, PNG</div>
								</div>

								<!-- Lista de Fotos Carregadas -->
								<div id="fotos-list" style="margin-top:16px;display:none;">
									<div style="font-weight:600;margin-bottom:8px;color:#374151;">üì∑ Fotos Selecionadas:</div>
									<div id="fotos-container" style="max-height:150px;overflow-y:auto;"></div>
								</div>
							</div>

							<!-- Se√ß√£o 2: Carregar Evid√™ncia da RAS -->
							<div style="margin-bottom:24px;padding:20px;border:1px solid #e5e7eb;border-radius:12px;background:#fef2f2;">
								<div style="margin-bottom:16px;">
									<div style="font-size:1.1rem;font-weight:600;color:#374151;margin-bottom:4px;display:flex;align-items:center;gap:8px;">
										<span style="font-size:1.3rem;">üìã</span> Carregar Evid√™ncia da RAS
									</div>
									<div style="color:#6b7280;font-size:0.9rem;">Adicione documentos PDF como evid√™ncia</div>
								</div>
								
								<div style="border:2px dashed #fca5a5;border-radius:8px;padding:30px 20px;text-align:center;background:#fef2f2;transition:all 0.3s ease;" id="upload-area-evidencias">
									<div style="font-size:2.5rem;color:#f87171;margin-bottom:8px;">üìÑ</div>
									<div style="font-size:1rem;font-weight:600;color:#dc2626;margin-bottom:6px;">Carregar Evid√™ncias</div>
									<div style="color:#6b7280;font-size:0.9rem;margin-bottom:12px;">Selecione ou arraste documentos PDF</div>
									
									<button type="button" id="select-evidencias" style="background:#dc2626;color:#fff;padding:10px 20px;font-size:0.9rem;border:none;border-radius:6px;cursor:pointer;margin-bottom:6px;">Selecionar PDFs</button>
									<input type="file" id="file-input-evidencias" multiple accept=".pdf" style="display:none;">
									
									<div style="color:#6b7280;font-size:0.8rem;">Formato: PDF</div>
								</div>

								<!-- Lista de Evid√™ncias Carregadas -->
								<div id="evidencias-list" style="margin-top:16px;display:none;">
									<div style="font-weight:600;margin-bottom:8px;color:#374151;">ÔøΩ Evid√™ncias Selecionadas:</div>
									<div id="evidencias-container" style="max-height:150px;overflow-y:auto;"></div>
								</div>
							</div>

							<div style="display:flex;gap:12px;justify-content:space-between">
								<button id="ras-voltar-4" type="button" style="background:#6b7280;color:#fff;padding:10px 24px;font-size:1.1rem;border:none;border-radius:6px;cursor:pointer">‚Üê Voltar</button>
								<button id="ras-proximo-4" type="button" disabled style="background:#3197ab;color:#fff;padding:10px 36px;font-size:1.1rem;border:none;border-radius:6px;opacity:0.5;cursor:not-allowed">Pr√≥ximo ‚Üí</button>
							</div>
						</form>
					</div>

					<!-- Etapa 5: Revisar Informa√ß√µes -->
					<div id="ras-etapa-5" style="display:none;">
						<h2 style="margin-top:24px;font-size:1.6rem;font-weight:700;color:#222">Nova RAS</h2>
						<div style="color:#3197ab;font-size:1.1rem;margin-bottom:8px">Reuni√£o de An√°lise de Seguran√ßa ¬∑ Etapa 5 de 6</div>
						<div style="font-size:1.05rem;margin-bottom:18px;color:#888">Revisar Informa√ß√µes</div>
						
						<div style="background:#fff;border-radius:12px;padding:24px;box-shadow:0 2px 8px #0001;border:1px solid #e6edf3">
							<!-- Cabe√ßalho -->
							<div style="text-align:center;margin-bottom:24px;">
								<div style="width:60px;height:60px;background:#10b981;border-radius:50%;display:inline-flex;align-items:center;justify-content:center;margin-bottom:12px;">
									<span style="font-size:24px;color:#fff;">‚úì</span>
								</div>
								<div style="font-size:1.4rem;font-weight:700;color:#374151;">Revisar Informa√ß√µes</div>
								<div style="color:#6b7280;font-size:1rem;">Verifique os dados antes de confirmar a presen√ßa</div>
							</div>

							<!-- Informa√ß√µes B√°sicas -->
							<div style="margin-bottom:20px;padding:16px;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb;">
								<div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
									<span style="font-size:1.2rem;">üìã</span>
									<span style="font-weight:600;color:#374151;">Informa√ß√µes B√°sicas</span>
								</div>
								<div style="display:grid;grid-template-columns:1fr 1fr;gap:12px;font-size:0.9rem;">
									<div><strong>Empresa:</strong> <span id="review-empresa">-</span></div>
									<div><strong>Data:</strong> <span id="review-data">-</span></div>
									<div><strong>Hor√°rio:</strong> <span id="review-horario">-</span></div>
									<div><strong>Efetivo:</strong> <span id="review-efetivo">-</span> funcion√°rios</div>
								</div>
								<div style="margin-top:12px;">
									<div style="margin-bottom:8px;"><strong>‚ö†Ô∏è Tarefa de Alto Risco:</strong></div>
									<div style="background:#fff7f7;padding:8px;border-radius:4px;border-left:3px solid #ef4444;font-size:0.85rem;" id="review-alto-risco">-</div>
								</div>
								<div style="margin-top:12px;">
									<div style="margin-bottom:4px;"><strong>TARD-C:</strong> <span id="review-tardc">N√ÉO</span></div>
								</div>
								<div style="margin-top:12px;">
									<div style="margin-bottom:8px;"><strong>üí¨ Algo a ser Compartilhado:</strong></div>
									<div style="background:#f7fbff;padding:8px;border-radius:4px;border-left:3px solid #3197ab;font-size:0.85rem;" id="review-compartilhar">-</div>
								</div>
							</div>

							<!-- Participantes -->
							<div style="margin-bottom:20px;padding:16px;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb;">
								<div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
									<span style="font-size:1.2rem;">üë•</span>
									<span style="font-weight:600;color:#374151;">Participantes</span>
								</div>
								<div style="display:grid;grid-template-columns:1fr 1fr;gap:8px;font-size:0.9rem;">
									<div><strong>üëî Gerente:</strong> <span id="review-gerente">-</span></div>
									<div><strong>üë∑ Engenheiro:</strong> <span id="review-engenheiro">-</span></div>
									<div><strong>üîß Supervisor/Mestre:</strong> <span id="review-supervisor">-</span></div>
									<div><strong>üë®‚Äçüîß Encarregado:</strong> <span id="review-encarregado">-</span></div>
									<div><strong>üõ°Ô∏è T√©cnico de Seguran√ßa:</strong> <span id="review-tecnico-seguranca">-</span></div>
									<div><strong>üíñ Anjo da Semana:</strong> <span id="review-anjo-semana">-</span></div>
									<div><strong>üéØ L√≠der da RAS:</strong> <span id="review-lider-ras">-</span></div>
									<div><strong>üë• L√≠der CPT:</strong> <span id="review-lider-cpt">-</span></div>
									<div><strong>üöí Brigada:</strong> <span id="review-brigada">-</span></div>
								</div>
							</div>

							<!-- Anexos -->
							<div style="margin-bottom:24px;padding:16px;border:1px solid #e5e7eb;border-radius:8px;background:#f9fafb;">
								<div style="display:flex;align-items:center;gap:8px;margin-bottom:12px;">
									<span style="font-size:1.2rem;">üìé</span>
									<span style="font-weight:600;color:#374151;">Anexos (<span id="review-anexos-count">0</span>)</span>
								</div>
								<div id="review-anexos-list" style="font-size:0.9rem;">
									<div style="color:#6b7280;">Nenhum arquivo carregado</div>
								</div>
							</div>

							<!-- Bot√µes -->
							<div style="display:flex;gap:12px;justify-content:space-between">
								<button id="ras-voltar-5" type="button" style="background:#6b7280;color:#fff;padding:10px 24px;font-size:1.1rem;border:none;border-radius:6px;cursor:pointer">‚Üê Voltar</button>
								<button id="ras-confirmar-presenca" type="button" disabled style="background:#10b981;color:#fff;padding:10px 24px;font-size:1.1rem;border:none;border-radius:6px;opacity:0.5;cursor:not-allowed">Confirmar Presen√ßa ‚Üí</button>
							</div>
						</div>
					</div>
				</div>
				
				<!-- Etapa 6: Confirmar Presen√ßa -->
				<div id="ras-etapa-6" style="display:none">
					<div style="background:#fff;border-radius:16px;box-shadow:0 4px 16px #0001;border:1px solid #e6edf3;max-width:1000px;margin:0 auto">
						<div style="background:linear-gradient(135deg,#3197ab 0%,#2563eb 100%);color:#fff;padding:20px 24px;border-radius:16px 16px 0 0;text-align:center">
							<div style="font-size:1.4rem;font-weight:700;margin-bottom:6px">Nova RAS</div>
							<div style="font-size:1rem;opacity:0.9">Reuni√£o de An√°lise de Seguran√ßa - Etapa 6 de 6</div>
						</div>
						
						<div style="padding:32px 24px">
							<div style="text-align:center;margin-bottom:32px">
								<div style="font-size:3rem;color:#3b82f6;margin-bottom:12px">üë•</div>
								<div style="font-size:1.6rem;font-weight:700;color:#374151;margin-bottom:8px">Confirmar Presen√ßa</div>
								<div style="color:#6b7280;font-size:1rem">Marque os funcion√°rios presentes na reuni√£o.</div>
							</div>
							
							<div style="background:#f8fafc;border:1px solid #e5e7eb;border-radius:12px;padding:24px;margin-bottom:24px">
								<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
									<h3 style="margin:0;font-size:1.2rem;color:#374151">Lista de Funcion√°rios</h3>
									<button id="marcar-todos" type="button" style="background:#3b82f6;color:#fff;padding:8px 16px;font-size:0.9rem;border:none;border-radius:6px;cursor:pointer">Marcar Todos</button>
								</div>
								
								<div style="background:#fff;border:1px solid #e5e7eb;border-radius:8px;overflow:hidden">
									<!-- Cabe√ßalho da tabela -->
									<div style="background:#f9fafb;padding:12px 16px;border-bottom:1px solid #e5e7eb;display:grid;grid-template-columns:60px 120px 1fr 1fr;gap:16px;font-weight:600;color:#374151">
										<div></div>
										<div>Matr√≠cula</div>
										<div>Nome</div>
										<div>Empresa</div>
										<div>Fun√ß√£o</div>
									</div>
									
									<!-- Lista de funcion√°rios -->
									<div id="lista-funcionarios">
										<!-- Funcion√°rio exemplo - ser√° substitu√≠do por dados reais depois -->
										<div style="padding:12px 16px;border-bottom:1px solid #f3f4f6;display:grid;grid-template-columns:60px 120px 1fr 1fr;gap:16px;align-items:center">
											<input type="checkbox" id="func-28853" style="width:18px;height:18px;cursor:pointer">
											<div style="color:#374151;font-weight:500">28853</div>
											<div style="color:#374151">Ademilcio Ferreira Caldas</div>
											<div style="color:#6b7280">RS Constru√ß√µes</div>
											<div style="color:#6b7280">Encarregado de obras II</div>
										</div>
									</div>
								</div>
								
								<div style="margin-top:16px;text-align:center">
									<div style="color:#6b7280;font-size:1rem">
										Total de Presentes: <span id="total-presentes" style="font-weight:600;color:#3b82f6">0</span>
									</div>
								</div>
							</div>
							
							<!-- Bot√µes -->
							<div style="display:flex;gap:12px;justify-content:space-between">
								<button id="ras-voltar-6" type="button" style="background:#6b7280;color:#fff;padding:12px 24px;font-size:1.1rem;border:none;border-radius:6px;cursor:pointer">‚Üê Voltar</button>
								<button id="ras-finalizar" type="button" style="background:#10b981;color:#fff;padding:12px 24px;font-size:1.1rem;border:none;border-radius:6px;cursor:pointer">‚úì Finalizar RAS</button>
							</div>
						</div>
					</div>
				</div>
				<div id="cadastro-usuario" style="display:none;max-width:400px">
					<h2>Cadastro de Perfil de Usu√°rio</h2>
					<form id="form-cadastro" autocomplete="off" onsubmit="return false;">
						<label for="nome">Nome completo</label><br>
						<input type="text" id="nome" name="nome" required style="width:100%;margin-bottom:10px"><br>
						<label for="perfil">Perfil</label><br>
						<select id="perfil" name="perfil" required style="width:100%;margin-bottom:10px">
							<option value="Administrador">Administrador</option>
							<option value="T√©cnico">T√©cnico</option>
						</select><br>
						<label for="senha">Senha</label><br>
						<input type="password" id="senha" name="senha" required style="width:100%;margin-bottom:10px"><br>
						<button type="submit" style="margin-top:8px">Cadastrar</button>
					</form>
					<button id="btn-acessar-usuarios" style="margin-top:12px">Acessar usu√°rios cadastrados</button>
					<p style="font-size:13px;color:#7a869a;margin-top:10px">
						<b>Login:</b> ser√° o <b>primeiro nome</b> informado e a senha cadastrada.<br>
						Exemplo: Nome completo "Maria Silva" ‚Üí login: <b>Maria</b>
					</p>
					<div id="usuarios-cadastrados" style="margin-top:24px;display:block"></div>
					<button id="btn-voltar-cadastro" style="margin-top:12px;display:none">Voltar ao cadastro</button>
				</div>
			</main>
		</div>
					<script>
					// Fun√ß√£o para verificar se est√° no mobile
					function isMobile() {
						return window.innerWidth <= 720;
					}

					// Fun√ß√£o para ocultar sidebar no mobile
					function hideSidebarOnMobile() {
						if (isMobile()) {
							document.querySelector('.sidebar').classList.add('hidden-mobile');
							document.querySelector('.main').classList.add('full-screen-mobile');
							document.getElementById('back-to-menu').classList.add('show');
						}
					}

					// Fun√ß√£o para mostrar sidebar no mobile
					function showSidebarOnMobile() {
						document.querySelector('.sidebar').classList.remove('hidden-mobile');
						document.querySelector('.main').classList.remove('full-screen-mobile');
						document.getElementById('back-to-menu').classList.remove('show');
					}

					// Bot√£o voltar ao menu
					document.getElementById('back-to-menu').addEventListener('click', function() {
						// Ocultar todas as se√ß√µes
						document.getElementById('conteudo-principal').style.display = 'block';
						document.getElementById('cadastro-usuario').style.display = 'none';
						document.getElementById('nova-ras').style.display = 'none';
						
						// Mostrar sidebar novamente
						showSidebarOnMobile();
					});

					// Alterna exibi√ß√£o do formul√°rio ao clicar em "Usu√°rio"
						document.querySelectorAll('.nav a[href="#usuario"]').forEach(function(link){
							link.addEventListener('click',function(e){
								e.preventDefault();
								document.getElementById('conteudo-principal').style.display = 'none';
								document.getElementById('cadastro-usuario').style.display = 'block';
								document.getElementById('nova-ras').style.display = 'none';
								hideSidebarOnMobile();
							});
						});
					// Exibir formul√°rio Nova RAS ao clicar em +RAS
						document.querySelectorAll('.nav a[href="#ras"]').forEach(function(link){
							link.addEventListener('click',function(e){
								e.preventDefault();
								document.getElementById('conteudo-principal').style.display = 'none';
								document.getElementById('cadastro-usuario').style.display = 'none';
								document.getElementById('nova-ras').style.display = 'block';
								hideSidebarOnMobile();
							});
						});
					// Ocultar Nova RAS ao clicar em outros itens
						document.querySelectorAll('.nav a:not([href="#ras"]):not([href="#usuario"])').forEach(function(link){
							link.addEventListener('click',function(){
								document.getElementById('nova-ras').style.display = 'none';
								document.getElementById('cadastro-usuario').style.display = 'none';
								document.getElementById('conteudo-principal').style.display = 'block';
								hideSidebarOnMobile();
							});
						});

					// Habilitar bot√£o Pr√≥ximo s√≥ se todos os campos obrigat√≥rios estiverem preenchidos - Etapa 1
					function validarRASEtapa1() {
						var empresa = document.getElementById('ras-empresa').value;
						var data = document.getElementById('ras-data').value;
						var inicio = document.getElementById('ras-inicio').value;
						var termino = document.getElementById('ras-termino').value;
						var efetivo = document.getElementById('ras-efetivo').value;
						var altoRisco = document.getElementById('ras-alto-risco').value.trim();
						var compartilhar = document.getElementById('ras-compartilhar').value.trim();
						var proximo = document.getElementById('ras-proximo-1');
						if(empresa && data && inicio && termino && efetivo && altoRisco && compartilhar) {
							proximo.disabled = false;
							proximo.style.opacity = '1';
							proximo.style.cursor = 'pointer';
						} else {
							proximo.disabled = true;
							proximo.style.opacity = '0.5';
							proximo.style.cursor = 'not-allowed';
						}
					}

					// Valida√ß√£o para Etapa 2 - Participa√ß√£o de Lideran√ßa
					function validarRASEtapa2() {
						var gerente = document.getElementById('ras-gerente').value;
						var engenheiro = document.getElementById('ras-engenheiro').value;
						var supervisor = document.getElementById('ras-supervisor').value;
						var encarregado = document.getElementById('ras-encarregado').value;
						var tecnicoSeguranca = document.getElementById('ras-tecnico-seguranca').value;
						var proximo = document.getElementById('ras-proximo-2');
						
						if(gerente && engenheiro && supervisor && encarregado && tecnicoSeguranca) {
							proximo.disabled = false;
							proximo.style.opacity = '1';
							proximo.style.cursor = 'pointer';
						} else {
							proximo.disabled = true;
							proximo.style.opacity = '0.5';
							proximo.style.cursor = 'not-allowed';
						}
					}

					// Valida√ß√£o para Etapa 3 - Outros Participantes
					function validarRASEtapa3() {
						var anjoSemana = document.getElementById('ras-anjo-semana').value;
						var liderRas = document.getElementById('ras-lider-ras').value;
						var liderCpt = document.getElementById('ras-lider-cpt').value;
						var brigada = document.getElementById('ras-brigada').value;
						var proximo = document.getElementById('ras-proximo-3');
						
						if(anjoSemana && liderRas && liderCpt && brigada) {
							proximo.disabled = false;
							proximo.style.opacity = '1';
							proximo.style.cursor = 'pointer';
						} else {
							proximo.disabled = true;
							proximo.style.opacity = '0.5';
							proximo.style.cursor = 'not-allowed';
						}
					}

					// Vari√°veis globais para armazenar arquivos separados
					var fotosCarregadas = [];
					var evidenciasCarregadas = [];

					// Valida√ß√£o para Etapa 4 - Anexos
					function validarRASEtapa4() {
						var proximo = document.getElementById('ras-proximo-4');
						
						// Precisa ter pelo menos 1 foto E 1 evid√™ncia
						if(fotosCarregadas.length > 0 && evidenciasCarregadas.length > 0) {
							proximo.disabled = false;
							proximo.style.opacity = '1';
							proximo.style.cursor = 'pointer';
						} else {
							proximo.disabled = true;
							proximo.style.opacity = '0.5';
							proximo.style.cursor = 'not-allowed';
						}
					}

					// Fun√ß√£o para validar tipo de arquivo - Fotos
					function validarTipoFoto(arquivo) {
						var tiposPermitidos = ['image/jpeg', 'image/jpg', 'image/png'];
						return tiposPermitidos.includes(arquivo.type);
					}

					// Fun√ß√£o para validar tipo de arquivo - Evid√™ncias (PDF)
					function validarTipoEvidencia(arquivo) {
						return arquivo.type === 'application/pdf';
					}

					// Fun√ß√£o para formatar tamanho do arquivo
					function formatarTamanho(bytes) {
						if (bytes === 0) return '0 Bytes';
						var k = 1024;
						var tamanhos = ['Bytes', 'KB', 'MB', 'GB'];
						var i = Math.floor(Math.log(bytes) / Math.log(k));
						return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + tamanhos[i];
					}

					// Fun√ß√£o para exibir fotos carregadas
					function exibirFotos() {
						var container = document.getElementById('fotos-container');
						var listaFotos = document.getElementById('fotos-list');
						
						if (fotosCarregadas.length > 0) {
							listaFotos.style.display = 'block';
							container.innerHTML = '';
							
							fotosCarregadas.forEach(function(arquivo, index) {
								var arquivoDiv = document.createElement('div');
								arquivoDiv.style.cssText = 'display:flex;align-items:center;justify-content:space-between;padding:8px 12px;margin-bottom:8px;background:#dbeafe;border-radius:6px;border:1px solid #93c5fd;';
								
								var infoArquivo = document.createElement('div');
								infoArquivo.style.cssText = 'flex:1;';
								
								var nomeArquivo = document.createElement('div');
								nomeArquivo.style.cssText = 'font-weight:600;color:#1e40af;font-size:0.9rem;';
								nomeArquivo.textContent = arquivo.name;
								
								var tamanhoArquivo = document.createElement('div');
								tamanhoArquivo.style.cssText = 'color:#6b7280;font-size:0.8rem;';
								tamanhoArquivo.textContent = formatarTamanho(arquivo.size);
								
								var botaoRemover = document.createElement('button');
								botaoRemover.style.cssText = 'background:#ef4444;color:#fff;border:none;border-radius:4px;padding:4px 8px;font-size:0.8rem;cursor:pointer;';
								botaoRemover.textContent = '‚úï';
								botaoRemover.onclick = function() {
									fotosCarregadas.splice(index, 1);
									exibirFotos();
									validarRASEtapa4();
								};
								
								infoArquivo.appendChild(nomeArquivo);
								infoArquivo.appendChild(tamanhoArquivo);
								arquivoDiv.appendChild(infoArquivo);
								arquivoDiv.appendChild(botaoRemover);
								container.appendChild(arquivoDiv);
							});
						} else {
							listaFotos.style.display = 'none';
						}
					}

					// Fun√ß√£o para exibir evid√™ncias carregadas
					function exibirEvidencias() {
						var container = document.getElementById('evidencias-container');
						var listaEvidencias = document.getElementById('evidencias-list');
						
						if (evidenciasCarregadas.length > 0) {
							listaEvidencias.style.display = 'block';
							container.innerHTML = '';
							
							evidenciasCarregadas.forEach(function(arquivo, index) {
								var arquivoDiv = document.createElement('div');
								arquivoDiv.style.cssText = 'display:flex;align-items:center;justify-content:space-between;padding:8px 12px;margin-bottom:8px;background:#fee2e2;border-radius:6px;border:1px solid #fca5a5;';
								
								var infoArquivo = document.createElement('div');
								infoArquivo.style.cssText = 'flex:1;';
								
								var nomeArquivo = document.createElement('div');
								nomeArquivo.style.cssText = 'font-weight:600;color:#dc2626;font-size:0.9rem;';
								nomeArquivo.textContent = arquivo.name;
								
								var tamanhoArquivo = document.createElement('div');
								tamanhoArquivo.style.cssText = 'color:#6b7280;font-size:0.8rem;';
								tamanhoArquivo.textContent = formatarTamanho(arquivo.size);
								
								var botaoRemover = document.createElement('button');
								botaoRemover.style.cssText = 'background:#ef4444;color:#fff;border:none;border-radius:4px;padding:4px 8px;font-size:0.8rem;cursor:pointer;';
								botaoRemover.textContent = '‚úï';
								botaoRemover.onclick = function() {
									evidenciasCarregadas.splice(index, 1);
									exibirEvidencias();
									validarRASEtapa4();
								};
								
								infoArquivo.appendChild(nomeArquivo);
								infoArquivo.appendChild(tamanhoArquivo);
								arquivoDiv.appendChild(infoArquivo);
								arquivoDiv.appendChild(botaoRemover);
								container.appendChild(arquivoDiv);
							});
						} else {
							listaEvidencias.style.display = 'none';
						}
					}

					// Configurar upload de fotos
					function configurarUploadFotos() {
						var uploadArea = document.getElementById('upload-area-fotos');
						var fileInput = document.getElementById('file-input-fotos');
						var selectButton = document.getElementById('select-fotos');
						
						// Clique no bot√£o
						selectButton.addEventListener('click', function() {
							fileInput.click();
						});
						
						// Clique na √°rea de upload
						uploadArea.addEventListener('click', function(e) {
							if (e.target !== selectButton) {
								fileInput.click();
							}
						});
						
						// Arrastar e soltar
						uploadArea.addEventListener('dragover', function(e) {
							e.preventDefault();
							uploadArea.style.borderColor = '#3b82f6';
							uploadArea.style.backgroundColor = '#eff6ff';
						});
						
						uploadArea.addEventListener('dragleave', function(e) {
							e.preventDefault();
							uploadArea.style.borderColor = '#d1d5db';
							uploadArea.style.backgroundColor = '#f0f9ff';
						});
						
						uploadArea.addEventListener('drop', function(e) {
							e.preventDefault();
							uploadArea.style.borderColor = '#d1d5db';
							uploadArea.style.backgroundColor = '#f0f9ff';
							
							var arquivos = Array.from(e.dataTransfer.files);
							processarFotos(arquivos);
						});
						
						// Sele√ß√£o de arquivos
						fileInput.addEventListener('change', function(e) {
							var arquivos = Array.from(e.target.files);
							processarFotos(arquivos);
						});
					}

					// Configurar upload de evid√™ncias
					function configurarUploadEvidencias() {
						var uploadArea = document.getElementById('upload-area-evidencias');
						var fileInput = document.getElementById('file-input-evidencias');
						var selectButton = document.getElementById('select-evidencias');
						
						// Clique no bot√£o
						selectButton.addEventListener('click', function() {
							fileInput.click();
						});
						
						// Clique na √°rea de upload
						uploadArea.addEventListener('click', function(e) {
							if (e.target !== selectButton) {
								fileInput.click();
							}
						});
						
						// Arrastar e soltar
						uploadArea.addEventListener('dragover', function(e) {
							e.preventDefault();
							uploadArea.style.borderColor = '#ef4444';
							uploadArea.style.backgroundColor = '#fef2f2';
						});
						
						uploadArea.addEventListener('dragleave', function(e) {
							e.preventDefault();
							uploadArea.style.borderColor = '#d1d5db';
							uploadArea.style.backgroundColor = '#fef2f2';
						});
						
						uploadArea.addEventListener('drop', function(e) {
							e.preventDefault();
							uploadArea.style.borderColor = '#d1d5db';
							uploadArea.style.backgroundColor = '#fef2f2';
							
							var arquivos = Array.from(e.dataTransfer.files);
							processarEvidencias(arquivos);
						});
						
						// Sele√ß√£o de arquivos
						fileInput.addEventListener('change', function(e) {
							var arquivos = Array.from(e.target.files);
							processarEvidencias(arquivos);
						});
					}

					// Processar fotos selecionadas
					function processarFotos(arquivos) {
						arquivos.forEach(function(arquivo) {
							if (validarTipoFoto(arquivo)) {
								// Verificar se arquivo j√° foi adicionado
								var jaExiste = fotosCarregadas.some(function(arq) {
									return arq.name === arquivo.name && arq.size === arquivo.size;
								});
								
								if (!jaExiste) {
									fotosCarregadas.push(arquivo);
								}
							} else {
								alert('Tipo de arquivo n√£o permitido para fotos: ' + arquivo.name + '\nUse apenas JPG ou PNG.');
							}
						});
						
						exibirFotos();
						validarRASEtapa4();
					}

					// Processar evid√™ncias selecionadas
					function processarEvidencias(arquivos) {
						arquivos.forEach(function(arquivo) {
							if (validarTipoEvidencia(arquivo)) {
								// Verificar se arquivo j√° foi adicionado
								var jaExiste = evidenciasCarregadas.some(function(arq) {
									return arq.name === arquivo.name && arq.size === arquivo.size;
								});
								
								if (!jaExiste) {
									evidenciasCarregadas.push(arquivo);
								}
							} else {
								alert('Tipo de arquivo n√£o permitido para evid√™ncias: ' + arquivo.name + '\nUse apenas PDF.');
							}
						});
						
						exibirEvidencias();
						validarRASEtapa4();
					}

					// Validar tipo de arquivo para fotos
					function validarTipoFoto(arquivo) {
						var extensoesPermitidas = ['jpg', 'jpeg', 'png'];
						var extensao = arquivo.name.split('.').pop().toLowerCase();
						return extensoesPermitidas.includes(extensao);
					}

					// Validar tipo de arquivo para evid√™ncias
					function validarTipoEvidencia(arquivo) {
						var extensao = arquivo.name.split('.').pop().toLowerCase();
						return extensao === 'pdf';
					}

					// Fun√ß√£o para coletar todos os dados preenchidos
					function coletarDadosRAS() {
						var dados = {
							// Etapa 1 - Informa√ß√µes B√°sicas
							empresa: document.getElementById('ras-empresa').value,
							data: document.getElementById('ras-data').value,
							inicio: document.getElementById('ras-inicio').value,
							termino: document.getElementById('ras-termino').value,
							efetivo: document.getElementById('ras-efetivo').value,
							altoRisco: document.getElementById('ras-alto-risco').value,
							tardc: document.getElementById('ras-tardc').checked,
							compartilhar: document.getElementById('ras-compartilhar').value,
							
							// Etapa 2 - Participa√ß√£o de Lideran√ßa
							gerente: document.getElementById('ras-gerente').value,
							engenheiro: document.getElementById('ras-engenheiro').value,
							supervisor: document.getElementById('ras-supervisor').value,
							encarregado: document.getElementById('ras-encarregado').value,
							tecnicoSeguranca: document.getElementById('ras-tecnico-seguranca').value,
							
							// Etapa 3 - Outros Participantes
							anjoSemana: document.getElementById('ras-anjo-semana').value,
							liderRas: document.getElementById('ras-lider-ras').value,
							liderCpt: document.getElementById('ras-lider-cpt').value,
							brigada: document.getElementById('ras-brigada').value,
							
							// Etapa 4 - Anexos
							fotos: fotosCarregadas,
							evidencias: evidenciasCarregadas
						};
						
						return dados;
					}

					// Fun√ß√£o para formatar data para exibi√ß√£o
					function formatarDataExibicao(dataInput) {
						if (!dataInput) return '-';
						var data = new Date(dataInput + 'T00:00:00');
						return data.toLocaleDateString('pt-BR');
					}

					// Fun√ß√£o para atualizar revis√£o dos dados
					function atualizarRevisao() {
						var dados = coletarDadosRAS();
						
						// Informa√ß√µes B√°sicas
						document.getElementById('review-empresa').textContent = dados.empresa || '-';
						document.getElementById('review-data').textContent = formatarDataExibicao(dados.data);
						document.getElementById('review-horario').textContent = dados.inicio && dados.termino ? dados.inicio + ' √†s ' + dados.termino : '-';
						document.getElementById('review-efetivo').textContent = dados.efetivo || '-';
						document.getElementById('review-alto-risco').textContent = dados.altoRisco || '-';
						document.getElementById('review-tardc').textContent = dados.tardc ? 'SIM' : 'N√ÉO';
						document.getElementById('review-compartilhar').textContent = dados.compartilhar || '-';
						
						// Participantes
						document.getElementById('review-gerente').textContent = dados.gerente || '-';
						document.getElementById('review-engenheiro').textContent = dados.engenheiro || '-';
						document.getElementById('review-supervisor').textContent = dados.supervisor || '-';
						document.getElementById('review-encarregado').textContent = dados.encarregado || '-';
						document.getElementById('review-tecnico-seguranca').textContent = dados.tecnicoSeguranca || '-';
						document.getElementById('review-anjo-semana').textContent = dados.anjoSemana || '-';
						document.getElementById('review-lider-ras').textContent = dados.liderRas || '-';
						document.getElementById('review-lider-cpt').textContent = dados.liderCpt || '-';
						document.getElementById('review-brigada').textContent = dados.brigada || '-';
						
						// Anexos
						var fotosCount = dados.fotos.length;
						var evidenciasCount = dados.evidencias.length;
						var totalAnexos = fotosCount + evidenciasCount;
						
						document.getElementById('review-anexos-count').textContent = totalAnexos;
						
						var anexosList = document.getElementById('review-anexos-list');
						if (totalAnexos > 0) {
							var listaHTML = '';
							
							// Exibir fotos
							if (fotosCount > 0) {
								listaHTML += '<div style="font-weight:bold;color:#3b82f6;margin-bottom:8px;">üì∑ Fotos da RAS (' + fotosCount + '):</div>';
								dados.fotos.forEach(function(arquivo) {
									listaHTML += '<div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;margin-left:16px;">';
									listaHTML += '<span style="font-size:1rem;">üñºÔ∏è</span>';
									listaHTML += '<span>' + arquivo.name + '</span>';
									listaHTML += '</div>';
								});
							}
							
							// Exibir evid√™ncias
							if (evidenciasCount > 0) {
								if (fotosCount > 0) listaHTML += '<div style="margin:12px 0;"></div>';
								listaHTML += '<div style="font-weight:bold;color:#ef4444;margin-bottom:8px;">üìÑ Evid√™ncias da RAS (' + evidenciasCount + '):</div>';
								dados.evidencias.forEach(function(arquivo) {
									listaHTML += '<div style="display:flex;align-items:center;gap:8px;margin-bottom:4px;margin-left:16px;">';
									listaHTML += '<span style="font-size:1rem;">ÔøΩ</span>';
									listaHTML += '<span>' + arquivo.name + '</span>';
									listaHTML += '</div>';
								});
							}
							
							anexosList.innerHTML = listaHTML;
						} else {
							anexosList.innerHTML = '<div style="color:#6b7280;">Nenhum arquivo carregado</div>';
						}
					}

					// Valida√ß√£o para Etapa 5 - Revisar Informa√ß√µes
					function validarRASEtapa5() {
						var dados = coletarDadosRAS();
						var botao = document.getElementById('ras-confirmar-presenca');
						
						// Verificar se todos os dados essenciais est√£o preenchidos
						var dadosCompletos = dados.empresa && dados.data && dados.inicio && dados.termino && 
											dados.efetivo && dados.altoRisco && dados.compartilhar &&
											dados.gerente && dados.engenheiro && dados.supervisor && 
											dados.encarregado && dados.tecnicoSeguranca &&
											dados.anjoSemana && dados.liderRas && dados.liderCpt && 
											dados.brigada && (dados.fotos.length > 0 || dados.evidencias.length > 0);
						
						if (dadosCompletos) {
							botao.disabled = false;
							botao.style.opacity = '1';
							botao.style.cursor = 'pointer';
						} else {
							botao.disabled = true;
							botao.style.opacity = '0.5';
							botao.style.cursor = 'not-allowed';
						}
					}

					// Eventos para valida√ß√£o da Etapa 1
					['ras-empresa','ras-data','ras-inicio','ras-termino','ras-efetivo','ras-alto-risco','ras-compartilhar'].forEach(function(id){
						document.getElementById(id).addEventListener('input',validarRASEtapa1);
					});

					// Eventos para valida√ß√£o da Etapa 2
					['ras-gerente','ras-engenheiro','ras-supervisor','ras-encarregado','ras-tecnico-seguranca'].forEach(function(id){
						document.getElementById(id).addEventListener('change',validarRASEtapa2);
					});

					// Eventos para valida√ß√£o da Etapa 3
					['ras-anjo-semana','ras-lider-ras','ras-lider-cpt','ras-brigada'].forEach(function(id){
						document.getElementById(id).addEventListener('change',validarRASEtapa3);
					});

					// Navega√ß√£o entre etapas
					document.getElementById('ras-proximo-1').addEventListener('click', function() {
						if (!this.disabled) {
							document.getElementById('ras-etapa-1').style.display = 'none';
							document.getElementById('ras-etapa-2').style.display = 'block';
						}
					});

					document.getElementById('ras-voltar-2').addEventListener('click', function() {
						document.getElementById('ras-etapa-2').style.display = 'none';
						document.getElementById('ras-etapa-1').style.display = 'block';
					});

					document.getElementById('ras-proximo-2').addEventListener('click', function() {
						if (!this.disabled) {
							document.getElementById('ras-etapa-2').style.display = 'none';
							document.getElementById('ras-etapa-3').style.display = 'block';
						}
					});

					document.getElementById('ras-voltar-3').addEventListener('click', function() {
						document.getElementById('ras-etapa-3').style.display = 'none';
						document.getElementById('ras-etapa-2').style.display = 'block';
					});

					document.getElementById('ras-proximo-3').addEventListener('click', function() {
						if (!this.disabled) {
							document.getElementById('ras-etapa-3').style.display = 'none';
							document.getElementById('ras-etapa-4').style.display = 'block';
							// Inicializar sistemas de upload na primeira vez que entrar na etapa 4
							if (!window.uploadInicializado) {
								configurarUploadFotos();
								configurarUploadEvidencias();
								window.uploadInicializado = true;
							}
						}
					});

					document.getElementById('ras-voltar-4').addEventListener('click', function() {
						document.getElementById('ras-etapa-4').style.display = 'none';
						document.getElementById('ras-etapa-3').style.display = 'block';
					});

					document.getElementById('ras-proximo-4').addEventListener('click', function() {
						if (!this.disabled) {
							document.getElementById('ras-etapa-4').style.display = 'none';
							document.getElementById('ras-etapa-5').style.display = 'block';
							// Atualizar revis√£o dos dados ao entrar na etapa 5
							atualizarRevisao();
							validarRASEtapa5();
						}
					});

					document.getElementById('ras-voltar-5').addEventListener('click', function() {
						document.getElementById('ras-etapa-5').style.display = 'none';
						document.getElementById('ras-etapa-4').style.display = 'block';
					});

					document.getElementById('ras-confirmar-presenca').addEventListener('click', function() {
						if (!this.disabled) {
							document.getElementById('ras-etapa-5').style.display = 'none';
							document.getElementById('ras-etapa-6').style.display = 'block';
							// Atualizar contador de presentes
							atualizarContadorPresentes();
						}
					});

					// Eventos da Etapa 6
					document.getElementById('ras-voltar-6').addEventListener('click', function() {
						document.getElementById('ras-etapa-6').style.display = 'none';
						document.getElementById('ras-etapa-5').style.display = 'block';
					});

					document.getElementById('ras-finalizar').addEventListener('click', function() {
						var presentes = coletarFuncionariosPresentes();
						alert('RAS finalizada com sucesso!\n\nPresentes: ' + presentes.length + ' funcion√°rio(s)\n\nTodos os dados foram registrados.');
						// Aqui pode ser implementado envio para servidor ou reset do formul√°rio
					});

					// Fun√ß√£o para marcar/desmarcar todos os funcion√°rios
					document.getElementById('marcar-todos').addEventListener('click', function() {
						var checkboxes = document.querySelectorAll('#lista-funcionarios input[type="checkbox"]');
						var todosMarcados = Array.from(checkboxes).every(cb => cb.checked);
						
						checkboxes.forEach(function(checkbox) {
							checkbox.checked = !todosMarcados;
						});
						
						atualizarContadorPresentes();
						this.textContent = todosMarcados ? 'Marcar Todos' : 'Desmarcar Todos';
					});

					// Fun√ß√£o para atualizar contador de presentes
					function atualizarContadorPresentes() {
						var checkboxes = document.querySelectorAll('#lista-funcionarios input[type="checkbox"]:checked');
						var total = checkboxes.length;
						document.getElementById('total-presentes').textContent = total;
					}

					// Fun√ß√£o para coletar funcion√°rios presentes
					function coletarFuncionariosPresentes() {
						var presentes = [];
						var checkboxes = document.querySelectorAll('#lista-funcionarios input[type="checkbox"]:checked');
						
						checkboxes.forEach(function(checkbox) {
							var row = checkbox.closest('div');
							var dados = row.children;
							presentes.push({
								matricula: dados[1].textContent,
								nome: dados[2].textContent,
								empresa: dados[3].textContent,
								funcao: dados[4].textContent
							});
						});
						
						return presentes;
					}

					// Adicionar event listeners aos checkboxes dos funcion√°rios
					document.addEventListener('change', function(e) {
						if (e.target.type === 'checkbox' && e.target.closest('#lista-funcionarios')) {
							atualizarContadorPresentes();
						}
					});

					// Cadastro de usu√°rios com persist√™ncia em localStorage
					var usuarios = [];
					// Carregar do localStorage ao iniciar
					if(localStorage.getItem('usuarios')){
						try {
							usuarios = JSON.parse(localStorage.getItem('usuarios')) || [];
						} catch(e){ usuarios = []; }
					}
					exibirUsuarios();

					document.getElementById('form-cadastro').addEventListener('submit', function(){
						var nome = document.getElementById('nome').value.trim();
						var perfil = document.getElementById('perfil').value;
						var senha = document.getElementById('senha').value;
						if(!nome || !perfil || !senha) return;
						var primeiroNome = nome.split(' ')[0];
						usuarios.push({nome, perfil, senha, login: primeiroNome});
						// Salvar no localStorage
						localStorage.setItem('usuarios', JSON.stringify(usuarios));
						document.getElementById('form-cadastro').reset();
						exibirUsuarios();
					});

					function exibirUsuarios(){
						var div = document.getElementById('usuarios-cadastrados');
						if(usuarios.length === 0){
							div.innerHTML = '';
							return;
						}
						var html = '<h3>Usu√°rios cadastrados</h3>';
						html += '<table border="1" cellpadding="6" style="border-collapse:collapse;width:100%;font-size:14px">';
						html += '<tr><th>Login</th><th>Nome</th><th>Perfil</th><th>Senha</th><th>A√ß√µes</th></tr>';
						usuarios.forEach(function(u, idx){
							html += `<tr><td>${u.login}</td><td>${u.nome}</td><td>${u.perfil}</td><td>${u.senha}</td><td><button onclick=\"excluirUsuario(${idx})\" style='color:#fff;background:#e53e3e;border:none;padding:4px 10px;border-radius:4px;cursor:pointer'>Excluir</button></td></tr>`;
						});
						html += '</table>';
						div.innerHTML = html;
					}

					// Fun√ß√£o para excluir usu√°rio (global)
					window.excluirUsuario = function(idx){
						if(confirm('Deseja realmente excluir este usu√°rio?')){
							usuarios.splice(idx,1);
							localStorage.setItem('usuarios', JSON.stringify(usuarios));
							exibirUsuarios();
						}
					}
					// Altern√¢ncia entre cadastro e tabela de usu√°rios
					document.getElementById('btn-acessar-usuarios').addEventListener('click', function(){
						document.getElementById('form-cadastro').style.display = 'none';
						document.getElementById('btn-acessar-usuarios').style.display = 'none';
						document.getElementById('usuarios-cadastrados').style.display = 'block';
						document.getElementById('btn-voltar-cadastro').style.display = 'inline-block';
					});
					document.getElementById('btn-voltar-cadastro').addEventListener('click', function(){
						document.getElementById('form-cadastro').style.display = 'block';
						document.getElementById('btn-acessar-usuarios').style.display = 'inline-block';
						document.getElementById('usuarios-cadastrados').style.display = 'block';
						document.getElementById('btn-voltar-cadastro').style.display = 'none';
					});

					// Sistema inicializado sem login
					</script>
